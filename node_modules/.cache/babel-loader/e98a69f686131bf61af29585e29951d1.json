{"ast":null,"code":"import React from'react';import'./FileList.css';import File from'./File';var FileList=function FileList(props){if(!props.active||!props.fileList)return/*#__PURE__*/React.createElement(\"div\",{className:\"file-div\"});var listDivs=props.fileList.map(function(file){var isAllowed=file.user&&file.user._id===props.user._id||file.group&&(file.group.owner===props.user._id||file.group.users.includes(props.user._id));return/*#__PURE__*/React.createElement(File,{key:file._id,file:file,isSelected:props.selectedFile&&props.selectedFile._id===file._id,isAllowed:isAllowed,dispatch:props.dispatch});});var btnText;if(props.uploading)btnText='Upload a database';else if(!props.selectedFile)btnText='Add a database';else btnText='Save';return/*#__PURE__*/React.createElement(\"div\",{className:\"file-div\"},/*#__PURE__*/React.createElement(\"label\",{className:\"upload-btn\",htmlFor:\"file\"},\"Upload\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"file\",id:\"file\",onChange:function onChange(e){return props.dispatch({type:'upload',file:e.target.files[0]});},className:\"file-upload-input\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"file-body\"},listDivs),/*#__PURE__*/React.createElement(\"select\",{className:\"file-group \".concat(!props.selectedFile||props.uploading?'':'disabled'),onChange:function onChange(e){return props.dispatch({type:'selectGroup',group:e.target.value});}},/*#__PURE__*/React.createElement(\"option\",{value:\"user\"},\"Personal Database\"),props.groups.map(function(group){return/*#__PURE__*/React.createElement(\"option\",{value:group._id,key:group._id},group.name);})),/*#__PURE__*/React.createElement(\"div\",{className:\"file-name \".concat(props.isSelectedAllowed||!props.selectedFile?'':'disabled')},/*#__PURE__*/React.createElement(\"div\",{className:\"file-name-label\"},\"Enter a name:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"file-name-input\",value:props.inputName,onChange:function onChange(e){return props.dispatch({type:'inputName',value:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"file-footer \".concat(props.isSelectedAllowed||!props.selectedFile?'':'disabled')},/*#__PURE__*/React.createElement(\"button\",{className:\"delete-db-btn\",onClick:function onClick(e){return props.dispatch({type:'delete'});}},\"Delete a database\"),/*#__PURE__*/React.createElement(\"button\",{className:\"add-db-btn\",onClick:function onClick(e){return props.dispatch({type:'save'});}},btnText)));};export default FileList;","map":{"version":3,"names":["React","File","FileList","props","active","fileList","listDivs","map","file","isAllowed","user","_id","group","owner","users","includes","selectedFile","dispatch","btnText","uploading","e","type","target","files","value","groups","name","isSelectedAllowed","inputName"],"sources":["/home/spencer/Personal/Bibtex-web-database-master/client/src/components/editor/FileList.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FileList.css';\nimport File from './File';\n\nconst FileList = (props) => {\n  if (!props.active || !props.fileList) return <div className='file-div'></div>;\n\n  const listDivs = props.fileList.map((file) => {\n    const isAllowed =\n      (file.user && file.user._id === props.user._id) ||\n      (file.group &&\n        (file.group.owner === props.user._id ||\n          file.group.users.includes(props.user._id)));\n    return (\n      <File\n        key={file._id}\n        file={file}\n        isSelected={props.selectedFile && props.selectedFile._id === file._id}\n        isAllowed={isAllowed}\n        dispatch={props.dispatch}\n      ></File>\n    );\n  });\n\n  let btnText;\n  if (props.uploading) btnText = 'Upload a database';\n  else if (!props.selectedFile) btnText = 'Add a database';\n  else btnText = 'Save';\n\n  return (\n    <div className='file-div'>\n      <label className='upload-btn' htmlFor='file'>\n        Upload\n      </label>\n      <input\n        type='file'\n        name='file'\n        id='file'\n        onChange={(e) =>\n          props.dispatch({\n            type: 'upload',\n            file: e.target.files[0],\n          })\n        }\n        className='file-upload-input'\n      ></input>\n      <div className='file-body'>{listDivs}</div>\n      <select\n        className={`file-group ${\n          !props.selectedFile || props.uploading ? '' : 'disabled'\n        }`}\n        onChange={(e) =>\n          props.dispatch({\n            type: 'selectGroup',\n            group: e.target.value,\n          })\n        }\n      >\n        <option value='user'>Personal Database</option>\n        {props.groups.map((group) => (\n          <option value={group._id} key={group._id}>\n            {group.name}\n          </option>\n        ))}\n      </select>\n      <div\n        className={`file-name ${\n          props.isSelectedAllowed || !props.selectedFile ? '' : 'disabled'\n        }`}\n      >\n        <div className='file-name-label'>Enter a name:</div>\n        <input\n          className='file-name-input'\n          value={props.inputName}\n          onChange={(e) =>\n            props.dispatch({\n              type: 'inputName',\n              value: e.target.value,\n            })\n          }\n        ></input>\n      </div>\n      <div\n        className={`file-footer ${\n          props.isSelectedAllowed || !props.selectedFile ? '' : 'disabled'\n        }`}\n      >\n        <button\n          className='delete-db-btn'\n          onClick={(e) => props.dispatch({ type: 'delete' })}\n        >\n          Delete a database\n        </button>\n        <button\n          className='add-db-btn'\n          onClick={(e) =>\n            props.dispatch({\n              type: 'save',\n            })\n          }\n        >\n          {btnText}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nFileList.propTypes = {\n  groups: PropTypes.any,\n  active: PropTypes.bool.isRequired,\n  selectedFile: PropTypes.any, // id of selected database\n  uploading: PropTypes.any.isRequired,\n  inputName: PropTypes.string.isRequired,\n  fileList: PropTypes.array,\n  isSelectedAllowed: PropTypes.bool,\n  dispatch: PropTypes.any.isRequired,\n};\n\nexport default FileList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}