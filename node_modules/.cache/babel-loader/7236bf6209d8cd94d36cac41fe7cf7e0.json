{"ast":null,"code":"import React from'react';import'./ExtractWindow.css';var ExtractWindow=function ExtractWindow(props){if(!props.active){return/*#__PURE__*/React.createElement(\"div\",{className:\"paper-window disabled\"});}var groupOptions=props.groups.map(function(group,i){return{key:i,text:group.name,value:group._id};});groupOptions.push({key:props.groups.length,text:'Personal',value:'personal'});var options=props.databases.filter(function(database){if(props.selectedGroup==='personal'){return database.user;}return database.group&&database.group._id===props.selectedGroup;}).map(function(database,i){return{key:i,text:database.bibtexdatabasename,value:database.bibtexdatabasename};});options.push({key:props.databases.length,text:'New database',value:'new'});return/*#__PURE__*/React.createElement(\"div\",{className:\"paper-window\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paper-window-file\"},props.file.filename),/*#__PURE__*/React.createElement(\"div\",{className:\"select-method-label\"},\"Select Extraction Method\"),/*#__PURE__*/React.createElement(\"div\",{className:\"select-method-btn\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-method\",placeholder:\"Select extraction method\",value:props.method,onChange:function onChange(e){return props.dispatch({type:'selectMethod',value:e.target.value});}},/*#__PURE__*/React.createElement(\"option\",{value:\"header\"},\"Single reference (Header)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"references\"},\"All references\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"select-group-label\"},\"Select a group\"),/*#__PURE__*/React.createElement(\"div\",{className:\"select-group-btn\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-group\",placeholder:\"Select a group\",value:props.selectedGroup,onChange:function onChange(e){return props.dispatch({type:'selectGroup',value:e.target.value});}},groupOptions.map(function(option){return/*#__PURE__*/React.createElement(\"option\",{value:option.value,key:option.key},option.text);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"select-database-label\"},\"Select a database\"),/*#__PURE__*/React.createElement(\"div\",{className:\"select-database-btn\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-database\",placeholder:\"Select a database\",disabled:!props.selectedGroup,value:props.selected||'new',onChange:function onChange(e){return props.dispatch({type:'selectDatabase',value:e.target.value});}},options.map(function(option){return/*#__PURE__*/React.createElement(\"option\",{value:option.value,key:option.key},option.text);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"name-label\"},\"Enter a name\"),/*#__PURE__*/React.createElement(\"input\",{className:\"name-input\",id:\"database-name\",autoComplete:\"off\",readOnly:props.selected&&props.selected!=='new',value:props.inputValue,onChange:function onChange(e){return props.dispatch({type:'inputName',value:e.target.value});}}),/*#__PURE__*/React.createElement(\"div\",{className:\"extra-input \".concat(props.method==='header'?'':'disabled')},/*#__PURE__*/React.createElement(\"div\",{className:\"name-label\"},\"Enter Citation Key\"),/*#__PURE__*/React.createElement(\"input\",{className:\"name-input\",id:\"citation-key\",autoComplete:\"off\",placeholder:\"Enter new Citation Key\",readOnly:props.method!=='header',value:props.citationKey,onChange:function onChange(e){return props.dispatch({type:'changeCitationKey',value:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"message-div \".concat(props.windowMessage.type||'')},props.windowMessage.message||''),/*#__PURE__*/React.createElement(\"button\",{className:\"paper-extract\",onClick:function onClick(e){return props.dispatch({type:'extractBibtex'});}},\"Extract\"));};export default ExtractWindow;","map":{"version":3,"names":["React","ExtractWindow","props","active","groupOptions","groups","map","group","i","key","text","name","value","_id","push","length","options","databases","filter","database","selectedGroup","user","bibtexdatabasename","file","filename","method","e","dispatch","type","target","option","selected","inputValue","citationKey","windowMessage","message"],"sources":["/home/spencer/Personal/Bibtex-web-database-master/client/src/components/paper/ExtractWindow.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ExtractWindow.css';\n\nconst ExtractWindow = (props) => {\n  if (!props.active) {\n    return <div className='paper-window disabled'></div>;\n  }\n  const groupOptions = props.groups.map((group, i) => {\n    return {\n      key: i,\n      text: group.name,\n      value: group._id,\n    };\n  });\n  groupOptions.push({\n    key: props.groups.length,\n    text: 'Personal',\n    value: 'personal',\n  });\n  const options = props.databases\n    .filter((database) => {\n      if (props.selectedGroup === 'personal') {\n        return database.user;\n      }\n      return database.group && database.group._id === props.selectedGroup;\n    })\n    .map((database, i) => {\n      return {\n        key: i,\n        text: database.bibtexdatabasename,\n        value: database.bibtexdatabasename,\n      };\n    });\n  options.push({\n    key: props.databases.length,\n    text: 'New database',\n    value: 'new',\n  });\n\n  return (\n    <div className='paper-window'>\n      <div className='paper-window-file'>{props.file.filename}</div>\n      <div className='select-method-label'>Select Extraction Method</div>\n      <div className='select-method-btn'>\n        <select\n          className='select-method'\n          placeholder='Select extraction method'\n          value={props.method}\n          onChange={(e) =>\n            props.dispatch({\n              type: 'selectMethod',\n              value: e.target.value,\n            })\n          }\n        >\n          <option value='header'>Single reference (Header)</option>\n          <option value='references'>All references</option>\n        </select>\n      </div>\n      <div className='select-group-label'>Select a group</div>\n      <div className='select-group-btn'>\n        <select\n          className='select-group'\n          placeholder='Select a group'\n          value={props.selectedGroup}\n          onChange={(e) =>\n            props.dispatch({\n              type: 'selectGroup',\n              value: e.target.value,\n            })\n          }\n        >\n          {groupOptions.map((option) => (\n            <option value={option.value} key={option.key}>\n              {option.text}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className='select-database-label'>Select a database</div>\n      <div className='select-database-btn'>\n        <select\n          className='select-database'\n          placeholder='Select a database'\n          disabled={!props.selectedGroup}\n          value={props.selected || 'new'}\n          onChange={(e) =>\n            props.dispatch({\n              type: 'selectDatabase',\n              value: e.target.value,\n            })\n          }\n        >\n          {options.map((option) => (\n            <option value={option.value} key={option.key}>\n              {option.text}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className='name-label'>Enter a name</div>\n      <input\n        className='name-input'\n        id='database-name'\n        autoComplete='off'\n        readOnly={props.selected && props.selected !== 'new'}\n        value={props.inputValue}\n        onChange={(e) =>\n          props.dispatch({\n            type: 'inputName',\n            value: e.target.value,\n          })\n        }\n      ></input>\n      <div\n        className={`extra-input ${props.method === 'header' ? '' : 'disabled'}`}\n      >\n        <div className='name-label'>Enter Citation Key</div>\n        <input\n          className='name-input'\n          id='citation-key'\n          autoComplete='off'\n          placeholder='Enter new Citation Key'\n          readOnly={props.method !== 'header'}\n          value={props.citationKey}\n          onChange={(e) =>\n            props.dispatch({\n              type: 'changeCitationKey',\n              value: e.target.value,\n            })\n          }\n        ></input>\n      </div>\n\n      <div className={`message-div ${props.windowMessage.type || ''}`}>\n        {props.windowMessage.message || ''}\n      </div>\n      <button\n        className='paper-extract'\n        onClick={(e) =>\n          props.dispatch({\n            type: 'extractBibtex',\n          })\n        }\n      >\n        Extract\n      </button>\n    </div>\n  );\n};\n\nExtractWindow.propTypes = {\n  active: PropTypes.bool.isRequired,\n  file: PropTypes.object,\n  databases: PropTypes.array,\n  groups: PropTypes.array,\n  citationKey: PropTypes.string.isRequired,\n  selectedGroup: PropTypes.any,\n  inputValue: PropTypes.string.isRequired,\n  selected: PropTypes.string,\n  windowMessage: PropTypes.object.isRequired,\n  dispatch: PropTypes.any.isRequired,\n  method: PropTypes.string.isRequired,\n};\n\nexport default ExtractWindow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}