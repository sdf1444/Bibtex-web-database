{"ast":null,"code":"import _defineProperty from\"/home/spencer/Personal/Bibtex-web-database-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/spencer/Personal/Bibtex-web-database-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/spencer/Personal/Bibtex-web-database-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/spencer/Personal/Bibtex-web-database-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/spencer/Personal/Bibtex-web-database-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Button,GhostInput}from'../passwordReset/styles/styledComponents';import{setAlert}from'../../actions/alert';import{RecoverPasswordStyles as UpdatePasswordStyles}from'./RecoverPassword';var UpdatePassword=/*#__PURE__*/function(_Component){_inherits(UpdatePassword,_Component);var _super=_createSuper(UpdatePassword);function UpdatePassword(){var _this;_classCallCheck(this,UpdatePassword);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={password:'',confirmPassword:'',submitted:false};_this.handleChange=function(key){return function(e){_this.setState(_defineProperty({},key,e.target.value));};};_this.updatePassword=function(e){e.preventDefault();var _this$state=_this.state,password=_this$state.password,confirmPassword=_this$state.confirmPassword;if(password!==confirmPassword){alert('Passwords do not match');}else{axios.put('http://localhost:5000/api/user/updatePassword/'+_this.props.match.params.id,{password:password}).then(function(res){return res;}).catch(function(err){return console.warn('ERROR FROM SERVER UPDATING PASSWORD:',err);});_this.setState({submitted:!_this.state.submitted});}};return _this;}_createClass(UpdatePassword,[{key:\"render\",value:function render(){var submitted=this.state.submitted;return/*#__PURE__*/React.createElement(UpdatePasswordStyles,null,/*#__PURE__*/React.createElement(\"h3\",{style:{paddingBottom:'1.25rem'}},\"Update your password\"),submitted?/*#__PURE__*/React.createElement(\"div\",{className:\"reset-password-form-sent-wrapper\"},/*#__PURE__*/React.createElement(\"p\",null,\"Your password has been saved.\"),/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"ghost-btn\"},\"Sign back in\")):/*#__PURE__*/React.createElement(\"div\",{className:\"reset-password-form-wrapper\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.updatePassword,style:{paddingBottom:'1.5rem'}},/*#__PURE__*/React.createElement(GhostInput,{onChange:this.handleChange('password'),value:this.state.password,placeholder:\"New password\",minLength:\"6\",type:\"password\"}),/*#__PURE__*/React.createElement(GhostInput,{onChange:this.handleChange('confirmPassword'),value:this.state.confirmPassword,placeholder:\"Confirm password\",type:\"password\"}),/*#__PURE__*/React.createElement(Button,{className:\"btn-primary password-reset-btn\"},\"Update password\")),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'1rem',maxWidth:'420px',paddingLeft:'0.5rem'}},\"Make sure it's at least 6 characters including a number and a lowercase letter. Read some documentation on\",' ',/*#__PURE__*/React.createElement(\"a\",{href:\"https://help.github.com/articles/creating-a-strong-password/\",target:\"_blank\",rel:\"noopener noreferrer\"},\"safer password practices\"),\".\")));}}]);return UpdatePassword;}(Component);export default UpdatePassword;","map":{"version":3,"names":["React","Component","axios","Link","Button","GhostInput","setAlert","RecoverPasswordStyles","UpdatePasswordStyles","UpdatePassword","state","password","confirmPassword","submitted","handleChange","key","e","setState","target","value","updatePassword","preventDefault","alert","put","props","match","params","id","then","res","catch","err","console","warn","paddingBottom","fontSize","maxWidth","paddingLeft"],"sources":["/home/spencer/Personal/Bibtex-web-database-master/client/src/components/passwordReset/UpdatePassword.js"],"sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Button, GhostInput } from '../passwordReset/styles/styledComponents';\nimport PropTypes from 'prop-types';\nimport { setAlert } from '../../actions/alert';\n\nimport { RecoverPasswordStyles as UpdatePasswordStyles } from './RecoverPassword';\n\nclass UpdatePassword extends Component {\n  state = {\n    password: '',\n    confirmPassword: '',\n    submitted: false,\n  };\n\n  handleChange = (key) => (e) => {\n    this.setState({ [key]: e.target.value });\n  };\n\n  updatePassword = (e) => {\n    e.preventDefault();\n    const { password, confirmPassword } = this.state;\n\n    if (password !== confirmPassword) {\n      alert('Passwords do not match');\n    } else {\n      axios\n        .put(\n          'http://localhost:5000/api/user/updatePassword/' +\n            this.props.match.params.id,\n          { password }\n        )\n        .then((res) => res)\n        .catch((err) =>\n          console.warn('ERROR FROM SERVER UPDATING PASSWORD:', err)\n        );\n      this.setState({ submitted: !this.state.submitted });\n    }\n  };\n\n  render() {\n    const { submitted } = this.state;\n\n    return (\n      <UpdatePasswordStyles>\n        <h3 style={{ paddingBottom: '1.25rem' }}>Update your password</h3>\n        {submitted ? (\n          <div className='reset-password-form-sent-wrapper'>\n            <p>Your password has been saved.</p>\n            <Link to='/login' className='ghost-btn'>\n              Sign back in\n            </Link>\n          </div>\n        ) : (\n          <div className='reset-password-form-wrapper'>\n            <form\n              onSubmit={this.updatePassword}\n              style={{ paddingBottom: '1.5rem' }}\n            >\n              <GhostInput\n                onChange={this.handleChange('password')}\n                value={this.state.password}\n                placeholder='New password'\n                minLength='6'\n                type='password'\n              />\n              <GhostInput\n                onChange={this.handleChange('confirmPassword')}\n                value={this.state.confirmPassword}\n                placeholder='Confirm password'\n                type='password'\n              />\n\n              <Button className='btn-primary password-reset-btn'>\n                Update password\n              </Button>\n            </form>\n\n            <p\n              style={{\n                fontSize: '1rem',\n                maxWidth: '420px',\n                paddingLeft: '0.5rem',\n              }}\n            >\n              Make sure it's at least 6 characters including a number and a\n              lowercase letter. Read some documentation on{' '}\n              <a\n                href='https://help.github.com/articles/creating-a-strong-password/'\n                target='_blank'\n                rel='noopener noreferrer'\n              >\n                safer password practices\n              </a>\n              .\n            </p>\n          </div>\n        )}\n      </UpdatePasswordStyles>\n    );\n  }\n}\n\nUpdatePassword.propTypes = {\n  token: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n};\n\nexport default UpdatePassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}